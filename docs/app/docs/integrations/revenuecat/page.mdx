export const metadata = {
    title: 'RevenueCat Integration',
    description: 'In-app purchases and subscriptions with RevenueCat.',
};

<div className="prose">

# RevenueCat Integration

RevenueCat provides a backend and a wrapper around StoreKit and Google Play Billing
to make implementing in-app purchases and subscriptions easy.

## Setup

1. Create an account at [RevenueCat](https://app.revenuecat.com/).
2. Create a new project and add your app (iOS and Android).
3. Get your API keys from the dashboard.

## Configuration

RevenueCat API keys are configured in your `app.json` file under the `extra` field.
These values are embedded at build time and accessed via Expo's Constants API.

<CodeBlock
    code={`{
  "expo": {
    "extra": {
      "revenueCat": {
        "iosKey": "your_ios_api_key_here",
        "androidKey": "your_android_api_key_here"
      }
    }
  }
}`}
    language="json"
    filename="app.json"
/>

<Callout type="info" title="Platform-Specific Keys">
    RevenueCat requires separate API keys for iOS and Android. Make sure to get both keys from your RevenueCat dashboard.
</Callout>

## How It Works

The RevenueCat service reads configuration from `app.json` at runtime:

<CodeBlock
    code={`import Constants from 'expo-constants';

const IOS_KEY = Constants.expoConfig?.extra?.revenueCat?.iosKey;
const ANDROID_KEY = Constants.expoConfig?.extra?.revenueCat?.androidKey;`}
    language="typescript"
/>

## Adjust Integration

When both RevenueCat and Adjust are enabled, the SDK initializer automatically shares
Adjust's advertising ID (ADID) with RevenueCat for attribution:

<CodeBlock
    code={`// After Adjust initializes
const adid = await adjustService.getAdid();
if (adid) {
  Purchases.setAdjustID(adid);
}`}
    language="typescript"
/>

</div>
